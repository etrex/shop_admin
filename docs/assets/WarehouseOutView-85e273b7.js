import{_ as q,s as B,r as y,a as s,b as _,d as h,h as i,e,w as a,g as v,B as D,m as d,i as r,F as A,f as N,E as P}from"./index-ac2423d8.js";const Q={class:"warehouse-out"},U={class:"main-content"},z={class:"card-header"},E={class:"actions"},F={__name:"WarehouseOutView",setup(M){B();const o=y(null),k=y([{id:"ORD-001",customer:{name:"王小明"},createdAt:"2024-01-20T10:30:00",payment:{method:"online"},products:[{id:"P001",name:"法國波爾多紅酒 2018",quantity:2,pickedQty:2,note:""}]}]),V=c=>{o.value={...c,products:c.products.map(t=>({...t,pickedQty:t.quantity,note:""}))}},w=()=>{o.value=null},x=()=>{P.success("出倉完成"),o.value=null},f=c=>{const t=new Date(c);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`};return(c,t)=>{const n=s("el-table-column"),S=s("el-tag"),m=s("el-button"),g=s("el-table"),b=s("el-card"),p=s("el-descriptions-item"),C=s("el-descriptions"),O=s("el-input-number"),$=s("el-input");return _(),h("div",Q,[t[5]||(t[5]=i("div",{class:"page-header"},[i("h2",null,"出倉作業")],-1)),i("div",U,[e(b,{class:"orders"},{header:a(()=>t[0]||(t[0]=[i("div",{class:"card-header"},[i("h3",null,"待出倉訂單")],-1)])),default:a(()=>[e(g,{data:k.value,style:{width:"100%"}},{default:a(()=>[e(n,{type:"selection",width:"55"}),e(n,{prop:"id",label:"訂單編號",width:"120"}),e(n,{prop:"customer.name",label:"客戶名稱",width:"120"}),e(n,{prop:"createdAt",label:"建立時間",width:"160"},{default:a(({row:l})=>[d(r(f(l.createdAt)),1)]),_:1}),e(n,{label:"商品"},{default:a(({row:l})=>[(_(!0),h(A,null,N(l.products,u=>(_(),v(S,{key:u.id,size:"small",class:"product-tag"},{default:a(()=>[d(r(u.name)+" x "+r(u.quantity),1)]),_:2},1024))),128))]),_:1}),e(n,{label:"操作",width:"120"},{default:a(({row:l})=>[e(m,{type:"primary",link:"",onClick:u=>V(l)},{default:a(()=>t[1]||(t[1]=[d(" 揀貨 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),o.value?(_(),v(b,{key:0,class:"picking-form"},{header:a(()=>[i("div",z,[t[4]||(t[4]=i("h3",null,"揀貨確認",-1)),i("div",E,[e(m,{onClick:w},{default:a(()=>t[2]||(t[2]=[d("取消")])),_:1}),e(m,{type:"primary",onClick:x},{default:a(()=>t[3]||(t[3]=[d("確認出倉")])),_:1})])])]),default:a(()=>[e(C,{column:2,border:""},{default:a(()=>[e(p,{label:"訂單編號"},{default:a(()=>[d(r(o.value.id),1)]),_:1}),e(p,{label:"客戶名稱"},{default:a(()=>[d(r(o.value.customer.name),1)]),_:1}),e(p,{label:"建立時間"},{default:a(()=>[d(r(f(o.value.createdAt)),1)]),_:1}),e(p,{label:"付款方式"},{default:a(()=>[d(r(o.value.payment.method==="online"?"線上付款":"貨到付款"),1)]),_:1})]),_:1}),e(g,{data:o.value.products,style:{width:"100%","margin-top":"16px"}},{default:a(()=>[e(n,{prop:"name",label:"商品名稱"}),e(n,{prop:"quantity",label:"訂購數量",width:"120"}),e(n,{label:"實際出貨",width:"150"},{default:a(({row:l})=>[e(O,{modelValue:l.pickedQty,"onUpdate:modelValue":u=>l.pickedQty=u,min:0,max:l.quantity,size:"small"},null,8,["modelValue","onUpdate:modelValue","max"])]),_:1}),e(n,{label:"備註",width:"200"},{default:a(({row:l})=>[e($,{modelValue:l.note,"onUpdate:modelValue":u=>l.note=u,placeholder:"輸入備註",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])]),_:1})):D("",!0)])])}}},T=q(F,[["__scopeId","data-v-963ccd02"]]);export{T as default};
