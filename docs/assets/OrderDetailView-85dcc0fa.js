import{_ as E,C as I,p as P,s as R,r as q,v as z,o as j,E as A,a as c,x as F,b as v,d as h,h as r,e as s,w as t,u as G,y as H,g as N,B as M,m as d,i as u}from"./index-e1c6c1fc.js";const J={class:"order-detail"},K={class:"page-header"},Q={class:"card-header"},U={class:"order-total"},W={class:"amount"},X={class:"note"},Y={__name:"OrderDetailView",setup(Z){const D=I(),b=P(),k=R(),x=q(!1),n=z(()=>k.getOrderById(D.params.id)),S=o=>({1:"法國波爾多紅酒 2018",2:"意大利基安蒂紅酒 2019",3:"西班牙里奧哈紅酒 2017",4:"法國勃艮第白酒 2020",5:"意大利白葡萄酒 2021",6:"德國雷司令白酒 2020",7:"獺祭 純米大吟釀 45",8:"久保田 千寿",9:"出羽桜 純米大吟釀",10:"八海山 特別本醸造"})[o]||"未知商品",V=o=>o?new Date(o).toLocaleString():"",m=o=>o?o.toLocaleString():"0",B=o=>({pending:"待處理",processing:"處理中",completed:"已完成",cancelled:"已取消"})[o]||o,T=o=>({pending:"warning",processing:"primary",completed:"success",cancelled:"info"})[o]||"default",C=o=>({online:"線上付款",cod:"貨到付款"})[o]||o;return j(()=>{if(!n.value){A.error("找不到訂單"),b.push({name:"order-list"});return}}),(o,a)=>{var w;const O=c("el-button"),g=c("el-tag"),i=c("el-descriptions-item"),y=c("el-descriptions"),f=c("el-card"),_=c("el-table-column"),$=c("el-table"),L=F("loading");return v(),h("div",J,[r("div",K,[a[2]||(a[2]=r("h2",null,"訂單詳情",-1)),s(O,{onClick:a[0]||(a[0]=e=>G(b).back())},{default:t(()=>a[1]||(a[1]=[d("返回")])),_:1})]),H((v(),h("div",null,[s(f,{class:"mb-4"},{header:t(()=>{var e;return[r("div",Q,[a[3]||(a[3]=r("span",null,"訂單資訊",-1)),s(g,{type:T((e=n.value)==null?void 0:e.status)},{default:t(()=>{var l;return[d(u(B((l=n.value)==null?void 0:l.status)),1)]}),_:1},8,["type"])])]}),default:t(()=>[s(y,{column:2,border:""},{default:t(()=>[s(i,{label:"訂單編號"},{default:t(()=>{var e;return[d(u((e=n.value)==null?void 0:e.id),1)]}),_:1}),s(i,{label:"建立時間"},{default:t(()=>{var e;return[d(u(V((e=n.value)==null?void 0:e.created_at)),1)]}),_:1}),s(i,{label:"付款方式"},{default:t(()=>{var e,l;return[d(u(C((l=(e=n.value)==null?void 0:e.payment)==null?void 0:l.method)),1)]}),_:1}),s(i,{label:"訂單金額"},{default:t(()=>{var e;return[d("NT$ "+u(m((e=n.value)==null?void 0:e.total)),1)]}),_:1})]),_:1})]),_:1}),s(f,{class:"mb-4"},{header:t(()=>a[4]||(a[4]=[r("div",{class:"card-header"},[r("span",null,"客戶資訊")],-1)])),default:t(()=>[s(y,{column:2,border:""},{default:t(()=>[s(i,{label:"姓名"},{default:t(()=>{var e,l;return[d(u((l=(e=n.value)==null?void 0:e.customer)==null?void 0:l.name),1)]}),_:1}),s(i,{label:"電話"},{default:t(()=>{var e,l;return[d(u((l=(e=n.value)==null?void 0:e.customer)==null?void 0:l.phone),1)]}),_:1}),s(i,{label:"地址",span:2},{default:t(()=>{var e,l;return[d(u((l=(e=n.value)==null?void 0:e.customer)==null?void 0:l.address),1)]}),_:1})]),_:1})]),_:1}),s(f,{class:"mb-4"},{header:t(()=>a[5]||(a[5]=[r("div",{class:"card-header"},[r("span",null,"商品清單")],-1)])),default:t(()=>{var e,l;return[s($,{data:((e=n.value)==null?void 0:e.products)||[],style:{width:"100%"}},{default:t(()=>[s(_,{prop:"id",label:"商品編號",width:"120"}),s(_,{label:"商品名稱"},{default:t(({row:p})=>[d(u(S(p.id))+" ",1),p.preorder?(v(),N(g,{key:0,size:"small",type:"warning",class:"ml-2"},{default:t(()=>a[6]||(a[6]=[d("預購")])),_:1})):M("",!0)]),_:1}),s(_,{prop:"price",label:"單價",width:"120"},{default:t(({row:p})=>[d(" NT$ "+u(m(p.price)),1)]),_:1}),s(_,{prop:"quantity",label:"數量",width:"120"}),s(_,{prop:"subtotal",label:"小計",width:"120"},{default:t(({row:p})=>[d(" NT$ "+u(m(p.subtotal)),1)]),_:1})]),_:1},8,["data"]),r("div",U,[a[7]||(a[7]=r("span",{class:"label"},"訂單總計：",-1)),r("span",W,"NT$ "+u(m((l=n.value)==null?void 0:l.total)),1)])]}),_:1}),(w=n.value)!=null&&w.note?(v(),N(f,{key:0},{header:t(()=>a[8]||(a[8]=[r("div",{class:"card-header"},[r("span",null,"備註")],-1)])),default:t(()=>[r("p",X,u(n.value.note),1)]),_:1})):M("",!0)])),[[L,x.value]])])}}},te=E(Y,[["__scopeId","data-v-50612184"]]);export{te as default};
